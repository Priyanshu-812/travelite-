/* eslint-disable no-unused-vars */
import {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } from "@google/generative-ai";

const apiKey=process.env.NEXT_PUBLIC_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate travel plan for location: Las Vegas, for 3 days for a couple with a cheap budget. Give me a hotels option list with hotelName, hotel Address, price, hotel image url, geo coordinates, rating, description, and suggest an itinerary with placeName, placeDetails, place image url, geo coordinates, ticket pricing, rating, time travel each location for 3 days with each day plan with the best time to visit in JSON format."},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"hotels\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50 - $100 per night\",\n      \"hotelImageUrl\": \"https://www.thelinq.com/content/dam/linq/images/property-images/linq-hotel-room-standard-king-01.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1423\",\n      \"rating\": 4.0,\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience, offering comfortable rooms and access to a variety of attractions.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"hotelImageUrl\": \"https://media.timeout.com/images/103171511/image.jpg\",\n      \"geoCoordinates\": \"36.1158, -115.1716\",\n      \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a carnival theme, featuring affordable rooms, a large casino, and various entertainment options.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$60 - $120 per night\",\n      \"hotelImageUrl\": \"https://media.cntraveler.com/photos/5931d79894c414555f875e12/master/pass/golden-nugget-las-vegas-hotel-casino-pool-area-02.jpg\",\n      \"geoCoordinates\": \"36.1696, -115.1420\",\n      \"rating\": 4.0,\n      \"description\": \"A historic hotel known for its elegant decor, a world-class casino, and an impressive shark tank.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A vibrant pedestrian mall with live music, street performers, and a dazzling light show.\",\n          \"placeImageUrl\": \"https://www.vegasexperience.com/media/images/destinations/fremont-street-experience.jpg\",\n          \"geoCoordinates\": \"36.1698, -115.1425\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n          \"placeName\": \"The Mob Museum\",\n          \"placeDetails\": \"A fascinating museum dedicated to the history of organized crime in Las Vegas.\",\n          \"placeImageUrl\": \"https://www.themobmuseum.org/sites/default/files/styles/hero_image/public/2017-04/mob_museum_exterior.jpg?itok=U7lM7Q0S\",\n          \"geoCoordinates\": \"36.1694, -115.1423\",\n          \"ticketPricing\": \"$20 - $30\",\n          \"rating\": 4.0\n        },\n        {\n          \"time\": \"Evening (7:00 PM - 9:00 PM)\",\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"A lively outdoor shopping and dining complex with the iconic High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://www.thelinq.com/content/dam/linq/images/property-images/linq-promenade-night-time.jpg\",\n          \"geoCoordinates\": \"36.1196, -115.1726\",\n          \"ticketPricing\": \"Free (except for High Roller)\",\n          \"rating\": 4.5\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A stunning indoor garden with elaborate flower displays and artistic sculptures.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/attractions-experiences/conservatory-botanical-garden/conservatory-botanical-garden-hero-1100x619.jpg\",\n          \"geoCoordinates\": \"36.1187, -115.1732\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n          \"placeName\": \"The Venetian & The Palazzo\",\n          \"placeDetails\": \"A luxurious resort with a replica of Venice's canals, gondola rides, and upscale shopping.\",\n          \"placeImageUrl\": \"https://www.thevenetianresort.com/content/dam/venetian/images/hotel/venetian-hotel-hero-1600x800.jpg\",\n          \"geoCoordinates\": \"36.1202, -115.1722\",\n          \"ticketPricing\": \"Free (except for gondola rides)\",\n          \"rating\": 4.0\n        },\n        {\n          \"time\": \"Evening (7:00 PM - 9:00 PM)\",\n          \"placeName\": \"Free Show on the Strip\",\n          \"placeDetails\": \"Enjoy a free show at one of the many hotels on the Las Vegas Strip, such as the Bellagio Fountains or the Wynn's Lake of Dreams.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/attractions-experiences/fountains-of-bellagio/fountains-of-bellagio-hero-1100x619.jpg\",\n          \"geoCoordinates\": \"36.1187, -115.1732\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"A scenic desert landscape with hiking trails, rock formations, and stunning views.\",\n          \"placeImageUrl\": \"https://www.nps.gov/redr/learn/nature/images/red-rock-canyon-01.jpg\",\n          \"geoCoordinates\": \"36.2136, -115.2638\",\n          \"ticketPricing\": \"Entrance fee $15 per vehicle\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"A massive engineering marvel and a popular tourist destination.\",\n          \"placeImageUrl\": \"https://www.nps.gov/hove/learn/historyculture/images/hoover-dam-aerial-2.jpg\",\n          \"geoCoordinates\": \"36.0046, -114.9943\",\n          \"ticketPricing\": \"Free (except for tours)\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"Evening (7:00 PM - 9:00 PM)\",\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"A unique museum showcasing vintage neon signs from Las Vegas's past.\",\n          \"placeImageUrl\": \"https://www.neonmuseum.org/sites/default/files/styles/gallery_image/public/neon-museum-1.jpg?itok=K0tO-G4R\",\n          \"geoCoordinates\": \"36.1720, -115.1399\",\n          \"ticketPricing\": \"$20 - $30\",\n          \"rating\": 4.0\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\nThis JSON object provides a 3-day budget-friendly travel plan for a couple in Las Vegas.\n\n* **Hotels:**\n    * The list includes three budget-friendly hotels: The D Las Vegas, Circus Circus, and Golden Nugget. Each entry has the hotel name, address, approximate price range, an image URL, coordinates, rating, and a brief description.\n* **Itinerary:**\n    * The itinerary is divided into three days, with each day having a plan of activities with specific timings.\n    * Each activity includes:\n        * Time of the day (Morning, Afternoon, Evening)\n        * Place name\n        * Place details\n        * Image URL\n        * Coordinates\n        * Ticket pricing (if applicable)\n        * Rating\n\n**Important Notes:**\n\n* This is just a suggestion, and you can customize it based on your interests and preferences.\n* Prices are estimates and can vary depending on the season and availability.\n* Consider purchasing a Las Vegas Pass or a discount card to save on attractions.\n* Book hotels and tours in advance, especially if you are traveling during peak season.\n* Take advantage of free attractions and activities.\n* Pack light and bring comfortable walking shoes.\n* Stay hydrated and be aware of the desert climate.\n* Enjoy your trip to Las Vegas! \n"},
        ],
      },
    ],
  });
  

 